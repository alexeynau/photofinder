# PhotoFinder (Electron Prototype)

## Быстрый старт (macOS/Windows/Linux)
- Установите зависимости: `npm install`
- Запустите Electron в dev-режиме: `npm run start`
- Протестируйте извлечение номеров из файла (умный парсер по умолчанию): `npm run parse:demo -- ./test_data/messages/message1.txt`
- Для глупого парсера добавьте второй аргумент: `npm run parse:demo -- ./test_data/messages/message2.txt simple`
- Сборка установочного пакета (черновая конфигурация): `npm run build`

## Структура проекта
- `src/common` — общие утилиты (парсер номеров и др.).
- `src/main` — главный процесс Electron: окна, диалоги, файловые операции.
- `src/preload` — безопасный мост между renderer и главным процессом.
- `src/renderer` — интерфейс (HTML/CSS/JS) с современным визуалом.
- `test_data` — тестовые данные, сгенерированные для будущих сценариев.
- `requirements.md` — полное описание требований и UX-заметок.

## Особенности интерфейса
- Поле назначения заполняется автоматически: если целевая папка не указана, файлы будут попадать в подпапку `Выбор` внутри исходной директории.
- Подсветка в текстовом поле показывает, какие номера найдёт выбранный парсер; переключатель «Умный парсер» обновляет выделение на лету.
- Списки результатов показывают только действие и название файла — без избыточных путей, чтобы отчёт читался быстрее.

## Режимы парсера
- **Глупый парсер** (по умолчанию включён в предпросмотре текста): выводит все трёх- и четырёхзначные номера, в том числе внутри телефонов, дат и прочих строк. Используйте его, чтобы быстро увидеть все потенциальные ID.
- **Умный парсер** (галочка в интерфейсе): дополнительно фильтрует даты, телефоны, номера договоров и добавляет контекстные проверки. Этот режим применяется при запуске обработки, если опция активна.
- В форме приложения можно переключаться между режимами; бейдж «Режим» показывает и способ обработки, и выбранный парсер.

## GitHub Actions
- Workflow `.github/workflows/release-windows.yml` собирает Windows‑инсталлятор с помощью `electron-builder` на `windows-latest`.
- Запуск: создайте и запушьте тег вида `vX.Y.Z` (`git tag v1.0.0 && git push origin v1.0.0`).
- Готовый `.exe` загружается как артефакт и прикладывается к черновому релизу. Для публикации достаточно отредактировать релиз в GitHub UI.

## Следующие шаги
1. Добавить клиентские проверки в UI (неактивная кнопка запуска без всех полей, подсветка ошибок).
2. Расширить отчётность: прогресс-бар, подробный лог шагов, сохранение лога на диск.
3. Подготовить иконки/ресурсы и провести настройку сборок для Windows/macOS/Linux (electron-builder).
4. Покрыть критические модули (парсер, файловые операции) автоматическими тестами или интеграционным скриптом.
